<h1>Sign Up </h1>




<%= form_for @user do |f| %>
<% if @user.errors.any? %>
    <div class="error_messages">
      <h2>Form is invalid</h2>
      <ul>
        <% for message in @user.errors.full_messages %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  
  <p>
  	<%= f.label :username %><br />
  	<%= f.text_field :username %>	
  </p>
  
  <p><%= f.label :role_id %><br/>
  	 <%#= f.collection_select :role_id, Role.all, :id, :role_name ,:onchange=>"$.ajax({url: '../users/role,data: 'role_id=' + value })",  :prompt => 'Select Role' %>
  <%#= f.collection_select :role_id, Role.all, :id, :role_name ,:onchange =>"alert('HIIIIIIIIIIIIi');"%>
  <%#= select 'role','id', Role.all.map { |d| [d.role_name,d.id] } ,{:prompt => 'Select Role'},:onchange=>"$.ajax({url: '../users/role',data: 'role_id=' + value })" %></td>
  <%= f.collection_select :role_id,Role.all,:id,:role_name,:prompt => 'Select Role'%>
  </p>
  <div id="role">
  	<% unless @role.nil?%>
  		<%= @role%>
  	
  	<% end %>
  </div>	
  
  <p>
  	<%= f.label :email %><br />
  	<%= f.text_field :email %>	
  </p>
  <p>
  	<%= f.label :password %><br />
  	<%= f.password_field :password %>
  </p>
  <p>
  	<%= f.label :password_confirmation %><br/>
  	<%= f.password_field :password_confirmation %>
  </p>
  
  <p class="button"><%= f.submit %></p>
  
<% end %>

